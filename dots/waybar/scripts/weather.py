import requests
import os

weather_icons = {
    '200': 'ğŸŒ©ğŸ§›ğŸ»â€â™‚ï¸',
    '201': 'â›ˆğŸ§›ğŸ»â€â™‚ï¸',
    '202': 'â›ˆğŸ§›ğŸ»â€â™‚ï¸',
    '210': 'ğŸŒ©ğŸ§›ğŸ»â€â™‚ï¸',
    '211': 'ğŸŒ©ğŸ§›ğŸ»â€â™‚ï¸',
    '212': 'ğŸŒ©ğŸ§›ğŸ»â€â™‚ï¸',
    '221': 'ğŸŒ©ğŸ§›ğŸ»â€â™‚ï¸',
    '230': 'ğŸŒ©ğŸ§›ğŸ»â€â™‚ï¸',
    '232': 'â›ˆğŸ§›ğŸ»â€â™‚ï¸',  
    '300': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸',
    '301': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸',
    '302': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸',
    '310': 'ğŸŒ¨ğŸ§›ğŸ»â€â™‚ï¸',
    '311': 'ğŸŒ¨ğŸ§›ğŸ»â€â™‚ï¸',
    '312': 'ğŸŒ¨ğŸ§›ğŸ»â€â™‚ï¸',
    '313': 'ğŸŒ¨ğŸ§›ğŸ»â€â™‚ï¸',
    '314': 'ğŸŒ¨ğŸ§›ğŸ»â€â™‚ï¸',
    '321': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸', 
    '500': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸',
    '501': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸',
    '502': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸',
    '503': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸',
    '504': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸',
    '511': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸',
    '520': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸',
    '521': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸',
    '522': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸',
    '531': 'ğŸŒ§ğŸ§›ğŸ»â€â™‚ï¸', 
    '600': 'â„ï¸ğŸ§›ğŸ»â€â™‚ï¸',
    '601': 'â„ï¸ğŸ§›ğŸ»â€â™‚ï¸',
    '602': 'â„ï¸ğŸ§›ğŸ»â€â™‚ï¸',
    '611': 'â„ï¸ğŸ§›ğŸ»â€â™‚ï¸',
    '612': 'â„ï¸ğŸ§›ğŸ»â€â™‚ï¸',
    '613': 'â„ï¸ğŸ§›ğŸ»â€â™‚ï¸',
    '615': 'â„ï¸ğŸ§›ğŸ»â€â™‚ï¸',
    '616': 'â„ï¸ğŸ§›ğŸ»â€â™‚ï¸',
    '620': 'â„ï¸ğŸ§›ğŸ»â€â™‚ï¸',
    '621': 'â„ï¸ğŸ§›ğŸ»â€â™‚ï¸',
    '622': 'â„ï¸ğŸ§›ğŸ»â€â™‚ï¸',  
    '701': 'ğŸŒ«',
    '711': 'ğŸŒ«',
    '721': 'ğŸŒ«',
    '731': 'ğŸŒ«',
    '741': 'ğŸŒ«',
    '751': 'ğŸŒ«',
    '761': 'ğŸŒ«',
    '762': 'ğŸŒ«',
    '771': 'ğŸŒ«',
    '781': 'ğŸŒ«', 
    '800': 'ğŸŒ', 
    '801': 'â›…ï¸',
    '802': 'â›…ï¸',
    '803': 'â›…ï¸',
    '804': 'â˜ï¸ğŸ§›ğŸ»â€â™‚ï¸',
}

# API_KEY = os.environ.get('OPEN_WEATHER_KEY')
# LAT = os.environ.get('LAT') 
# LON = os.environ.get('LON')
API_KEY = 'REPLACE WITH YOUR KEY'
LAT = 59.3293
LON = 18.0686

URL = f"https://api.openweathermap.org/data/2.5/weather?lat={LAT}&lon={LON}&units=metric&appid={API_KEY}"

response = requests.get(URL)
data = response.json()

icon_id = str(data['weather'][0]['id'])
current_icon = weather_icons[icon_id]
weather_desc = data['weather'][0]['main']
temp = int(data['main']['temp'])
output = f"{current_icon} {weather_desc} {temp}Â°C"

print(output)








